<!DOCTYPE html>
<html>
<head>
  <title>Forgot Password</title>
</head>
<body>
  <h2>Forgot Password</h2>
  <form action="/reset-password" method="POST" onsubmit="setNewPassword(event)">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    <br><br>
    <input type="submit" value="Reset Password">
  </form>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"></script>
 <script>
    async function setNewPassword(event) {
      try {
        event.preventDefault();
        const email = event.target.email.value;
        const data = { email };
        const token = localStorage.getItem('token'); // Obtain the token from local storage or elsewhere

        console.log('Email:', email); // Check if the email value is captured correctly
        console.log('Data:', data); // Check the data object

        const response = await axios.post('http://localhost:5000/password/forgotPassword', data);
        console.log('Response:', response); // Check the response received

        alert(response.data.message);
       // window.location.href = './login.html';
      } catch (error) {
        console.log(error);
      }
    }
  </script>
</body>
</html>